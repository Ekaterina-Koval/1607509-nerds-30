const contactsButton = document.querySelector(".contacts-button"), modal = document.querySelector(".modal-feedback"), close = document.querySelector(".modal-close"), fieldName = modal.querySelector(".feedback-field"), feedbackForm = modal.querySelector(".feedback-form"), userName = modal.querySelector("[name=username]"), eMail = modal.querySelector("[name=email]"), feedbackText = modal.querySelector("[name=feedback-text]"), slides = document.querySelectorAll(".feature-item"), buttons = document.querySelectorAll(".slider-button"); contactsButton.addEventListener("click", function (e) { e.preventDefault(), modal.classList.remove("visually-hidden"), modal.classList.add("modal-open"), fieldName.focus() }), close.addEventListener("click", function (e) { e.preventDefault(), modal.classList.add("visually-hidden"), modal.classList.remove("modal-error"), modal.classList.remove("modal-open") }), window.addEventListener("keydown", function (e) { 27 === e.keyCode && (modal.classList.contains("vishually-hidden") || (e.preventDefault(), modal.classList.add("visually-hidden"), modal.classList.remove("modal-error"))) }), feedbackForm.addEventListener("submit", function (e) { userName.value && eMail.value && feedbackText.value ? isStorageSupport && localStorage.setItem("username", "userName.value") : (e.preventDefault(), modal.classList.remove("modal-error"), modal.offsetWidth = modal.offsetWidth, modal.classList.add("modal-error")), localStorage.setItem("username", "userName.value"), localStorage.setItem("email", "eMail.value") }); for (let t = 0; t < slides.length; t++) { let e = buttons[t]; e.addEventListener("click", function () { console.log([t]), buttons[t].classList.add("slider-button-current"), slides[t].classList.remove("feature-item-display-none"), 0 < t && (buttons[t - 1].classList.remove("slider-button-current"), slides[t - 1].classList.add("feature-item-display-none")), t < slides.length - 1 && (buttons[t + 1].classList.remove("slider-button-current"), slides[t + 1].classList.add("feature-item-display-none")), t == slides.length - 1 && (buttons[t - slides.length + 1].classList.remove("slider-button-current"), slides[t - slides.length + 1].classList.add("feature-item-display-none")), 0 == t && (buttons[t + slides.length - 1].classList.remove("slider-button-current"), slides[t + slides.length - 1].classList.add("feature-item-display-none")) }) }

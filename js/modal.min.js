const contactsButton = document.querySelector(".contacts-button"), modal = document.querySelector(".modal-feedback"), close = document.querySelector(".modal-close"), fieldName = modal.querySelector(".feedback-field"), feedbackForm = modal.querySelector(".feedback-form"), userName = modal.querySelector("[name=username]"), eMail = modal.querySelector("[name=email]"), feedbackText = modal.querySelector("[name=feedback-text]"); contactsButton.addEventListener("click", function (e) { e.preventDefault(), modal.classList.remove("visually-hidden"), fieldName.focus() }), close.addEventListener("click", function (e) { e.preventDefault(), modal.classList.add("visually-hidden"), modal.classList.remove("modal-error") }), window.addEventListener("keydown", function (e) { 27 === e.keyCode && (modal.classList.contains("vishually-hidden") || (e.preventDefault(), modal.classList.add("visually-hidden"), modal.classList.remove("modal-error"))) }), feedbackForm.addEventListener("submit", function (e) { userName.value && eMail.value && feedbackText.value ? isStorageSupport && localStorage.setItem("username", "userName.value") : (e.preventDefault(), modal.classList.add("modal-error")), localStorage.setItem("username", "userName.value"), localStorage.setItem("email", "eMail.value") });
